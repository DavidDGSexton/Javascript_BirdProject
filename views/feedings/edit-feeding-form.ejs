<!--This will be the form that the user will use to add a new feeding to the database-->
<!DOCTYPE html>
<html>
  <%- include('../partials/header', {title: 'Edit Feeding - Nature Reach'}); %>
  <body>
    <% include ../partials/navbar %>

    <div class="container">
      <h1>Edit feeding</h1>
      <form method="POST" action="./update-feeding" enctype="text/html">
        <input type="hidden" name="id" value="<%=data._id%>" />

        <div class="form-group col-4">
          <label for="animalId">Animal</label>
          <select required class="form-control" name="animalId">
            <option></option>
            <% for(var i=0; i<animals.length; i++) { %>
                <option value="<%=animals[i]._id%>">
                    <%=animals[i].species%> - <%=animals[i].nickname%>
                </option>
            <% } %>
        </select>
        </div>

        <div class="form-group col-4">
          <label for="date">Date</label>
          <input type="date" class="form-control" id="date" placeholder="Enter date" name="date" value="<%=data.dateTime%>">
        </div>

        <div class="form-group col-4">
          <label for="medicineId">Medicine</label>
          <select required class="form-control" name="medicine">
            <option><%=data.medicine%></option>
            <% for(var i=0; i<medicines.length; i++) { %>
                <option value="<%=medicines[i].name%>">
                    <%=medicines[i].name%>
                </option>
            <% } %>
        </select>
        </div>
        
        <div class="form-group col-4">
          <label for="goalWeight">Goal Weight (oz)</label>
          <input type="text" class="form-control" id="goalWeight" name="goalWeight" placeholder="Enter goal weight" value="<%=data.goalWeightOfAnimal%>">
        </div>
        <div class="form-group col-4">
          <label for="actualWeight">Actual Weight (oz)</label>
          <input type="number" class="form-control" id="actualWeight" name="actualWeight" placeholder="Enter actual weight" value="<%=data.actualWeightOfAnimal%>">
        </div>

        <div class="form-group col-4">
          <label for="foodId">Food</label>
          <select required class="form-control" name="food">
            <option><%=data.food%></option>
            <% for(var i=0; i<foods.length; i++) { %>
                <option value="<%=foods[i].name%>">
                    <%=foods[i].name%>
                </option>
            <% } %>
        </select>
        </div>
        
        <div class="form-group col-4">
          <label for="amountOfFoodFed">Amount of Food Fed (oz)</label>
          <input type="number" class="form-control" id="amountOfFoodFed" name="amountOfFoodFed" placeholder="Enter food amount" value="<%=data.amountOfFoodFed%>">
        </div>
        <div class="form-group col-4">
          <label for="leftoverFood">Amount of Food Leftover (oz)</label>
          <input type="number" class="form-control" id="leftoverFood" name="leftoverFood" placeholder="Enter leftover food" value="<%=data.leftoverFood%>">
        </div>
        <div class="form-group col-4">
          <label for="weatherConditions">Weather Conditions</label>
          <select class="form-control" name="weatherConditions">
              <option><%=data.weatherConditions%></option>
              <option>Sunny - Cold</option> 
              <option>Cloudy - Cold</option>
              <option>Precipitation - Cold</option>
              <option>Sunny - Mild</option>
              <option>Cloudy - Mild</option>
              <option>Precipitation - Mild</option>
              <option>Sunny - Hot</option>
              <option>Cloudy - Hot</option>
              <option>Precipitation - Hot</option>
          </select>
        </div>
        <div class="form-group col-7">
          <label for="comments">Comments</label>
          <textarea style="height: 200px;" class="form-control" id="comments" name="comments" value="<%=data.comments%>"></textarea>
        </div>
        <button type="submit" value="Update" class="btn btn-primary" style="margin-top: 10px;">Submit</button>
        <div style="margin: 400px;">
      </form>
     
    </div>
    <% include ../partials/scripts %>

    <script type="text/javascript">
    let currentDate = new Date();
      $("#date").datepicker({ defaultDate: currentDate});
    </script>
    
  </body>
</html>